\chapter{{2×3ミキサーを用いた液滴移動の\bout{ない}混合手順の生成}}
\section{アルゴリズムの概要}
\label{overview}
\ref{overview}~節では，本論文の提案手法である2$\times$3ミキサーを用いた液滴移動の無いPMD上での混合手順の生成アルゴリズムの処理の流れを擬似コードを交えて説明する.

Algorithm~\ref{alg:prop}に本論文の提案手法のプログラム全体の擬似コードを示した．


\begin{algorithm}[tbp]
 \caption{プログラム全体の処理の流れ}\label{alg:prop}
 \begin{algorithmic}[1]
    \Require $\mathit{Tree}$：2$\times$2ミキサーノードと2$\times$3ミキサーノード，試薬液滴ノードを含む希釈木
     \Require $\mathit{PMD}$：$\mathit{Tree}$を配置するのに十分な大きさを持つPMD  
     \State $\mathit{TransformedTree} \gets$ transform($Tree$) \Comment{希釈木の変形}
     \State $\mathit{ret} \gets $List() \Comment{混合手順を記録するためのリスト}
     \State $\mathit{OnPMD}$ $\gets$ List() \Comment{PMD上に配置されているモジュールの管理をするリスト}
     \State $\mathit{Process,TimeForFlushing}\,\gets $  PlaceOnPMD($\mathit{child,PMD}$)
     \State $\mathit{ret}$.append($\mathit{Process}$)
     \State $\mathit{OnPMD}$.append($TransformedTree.RootMixer$)
    
    \State \While{$TransformedTree.RootMixer.state \neq Mixed $ }
        \State$\mathit{mixer} \gets  \mathit{OnPMD}$.pop(0)
        \State $\mathit{AllChildrenPlaced}\gets\mathit{True}$
        \State $\mathit{AllChildrenMixerMixed}\gets\mathit{True}$
        \ForAll{$\mathit{child} \gets \mathit{mixer.Children}$} 
            \If {$\mathit{child}\:\mathit{\mathbf{not}}\,\mathit{\mathbf{in}}\:\mathit{OnPMD}$}
                \State$\mathit{AllChildrenPlaced \gets False}$
                \State $\mathit{TimeForFlushing}\, \gets$  isTimeForFlushing($\mathit{child,PMD}$) 
                \If{$\mathit{TimeForFlushing}$}
                    \State $\mathit{Process}\gets$Flush($\mathit{PMD,OnPMD}$)
                    \State $\mathit{ret}$.append($\mathit{Process}$)
                \EndIf
                \State $\mathit{Process}\, \gets$  PlaceOnPMD($\mathit{child,PMD}$)
                \State $\mathit{ret}$.append($\mathit{Process}$)
                \State $\mathit{OnPMD}$.append($\mathit{child}$) 
            \EndIf 
            \If {$\mathit{child.kind}==\mathit{Mixer} \: \mathit{\mathbf{and}}\: \mathit{child.state}\neq\mathit{Mixed}$}
                \State $\mathit{AllChildrenMixerMixed}\gets\mathit{False}$
            \EndIf 
        \EndFor 
        \If{$\mathit{AllChildrenPlaced}\,\mathit{\mathbf{and}}\, \mathit{AllChildrenMixerMixed}$}
            \State$\mathit{Process}\gets$Mix($\mathit{mixer,PMD}$)
            \State $\mathit{ret}$.append($\mathit{Process}$)
            \State$\mathit{mixer.state} \gets \mathit{Mixed}$ 
        \EndIf
        \State$\mathit{OnPMD}$.append($\mathit{mixer}$)
    \EndWhile 

     \Return $\mathit{ret}$
 \end{algorithmic}
\end{algorithm}

\section{入力希釈木への変形アルゴリズム}
希釈木の変形操作の手順や目的などを例や擬似コードを用いながら説明する．
\section{ライブラリを用いたモジュールの配置{アルゴリズム}}
ライブラリを用いたモジュールの配置方法を例，図や擬似コードを用いながら説明する．
